<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="App educativa que promueve la conciencia climática con retos interactivos basados en el ODS 13" />
  <title>EcoReto - Acción por el Clima</title>
  <link rel="icon" href="img/Logo6.png" type="image/png" sizes="512x512" />
  <!-- Manifest PWA -->
  <link rel="manifest" href="manifest.json" />
  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles.css" />
  <!-- Responsive al final para que sobrescriba cuando sea necesario -->
  <link rel="stylesheet" href="css/responsive.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Fuentes de Google -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body>
  <!-- Navbar mejorado -->
  <nav class="navbar">
    <div class="navbar-brand">
      <img src="img/Logo3.png" alt="EcoReto Logo" class="logo" />
      <span class="app-name">EcoReto</span>
    </div>  
    <div class="navbar-icons">
      <button onclick="goToSection(0)" title="Inicio" class="nav-icon">
        <i class="fas fa-home"></i>
        <span class="tooltip">Inicio</span>
      </button>
      <button onclick="goToSection(1)" title="Consejos" class="nav-icon">
        <i class="fas fa-lightbulb"></i>
        <span class="tooltip">Consejos</span>
      </button>
      <button onclick="goToSection(2)" title="Calculadora" class="nav-icon">
        <i class="fas fa-calculator"></i>
        <span class="tooltip">Impacto</span>
      </button>
      <button onclick="goToSection(3)" title="Desafío" class="nav-icon">
        <i class="fas fa-trophy"></i>
        <span class="tooltip">Desafío</span>
      </button>
      <button onclick="goToSection(4)" title="Comunidad" class="nav-icon">
        <i class="fas fa-users"></i>
        <span class="tooltip">Comunidad</span>
      </button>
      <button onclick="goToSection(5)" title="Comentarios" class="nav-icon">
        <i class="fas fa-comment"></i>
        <span class="tooltip">Comentarios</span>
      </button>
    </div>
  </nav>

  <!-- Contenido principal -->
  <main class="container">
    <section id="sections">
      <!-- Sección 1: Inicio -->
      <div class="section active">
        <div class="hero">
          <h1>Únete al Cambio Climático</h1>
          <p class="tagline">Pequeñas acciones generan grandes impactos</p>
          <div class="stats-grid">
            <div class="stat-card">
              <i class="fas fa-leaf"></i>
              <h3>+1,200</h3>
              <p>Retos completados</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-users"></i>
              <h3>+850</h3>
              <p>Usuarios activos</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-globe-americas"></i>
              <h3>15.7t</h3>
              <p>CO₂ reducido</p>
            </div>
          </div>
          <button class="cta-button" onclick="goToSection(3)">Tomar el reto de hoy</button>
        </div>
      </div>

      <!-- Sección 2: Consejos -->
      <div class="section">
        <h2 class="section-title">Consejos Ecológicos</h2>
        <div class="tips-container">
          <!-- Los consejos se cargarán dinámicamente desde JS -->
        </div>
      </div>

      <!-- Sección 3: Calculadora -->
      <div class="section">
        <h2 class="section-title">Tu Impacto Ambiental</h2>
        <div class="calculator">
          <!-- Contenido de la calculadora -->
        </div>
      </div>

      <!-- Sección 4: Desafío -->
      <div class="section">
        <h2 class="section-title">Desafío del Día</h2>
        <div class="challenge-card">
          <!-- Contenido del desafío -->
        </div>
      </div>

      <!-- Sección 5: Comunidad -->
      <div class="section">
        <h2 class="section-title">Comunidad EcoReto</h2>
        <div class="community-feed" id="communityFeed">
          <!-- Contenido de comentarios/interacciones -->
          <div class="comments-loader">
            <i class="fas fa-spinner fa-spin"></i> Cargando comentarios...
          </div>
        </div>
      </div>

      <!-- Sección 6: Comentarios -->
      <div class="section">
        <div class="comments-section">
          <h2 class="section-title">Contáctanos</h2>
          <p class="section-subtitle">Tu opinión es importante para nosotros</p>
          
          <div class="comment-card">
            <form id="commentForm" class="comment-form">
              <div class="form-message" id="formMessage"></div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="name">Nombre completo</label>
                  <input type="text" id="name" name="name" placeholder="Ingresa tu nombre" required>
                  <small class="input-error" style="display: none;"></small>
                </div>
                <div class="form-group">
                  <label for="email">Correo electrónico</label>
                  <input type="email" id="email" name="email" placeholder="tucorreo@ejemplo.com" required>
                  <small class="input-error" style="display: none;"></small>
                </div>
              </div>
              
              <div class="form-group">
                <label for="comment">Tu mensaje</label>
                <textarea id="comment" name="comment" rows="5" placeholder="Escribe aquí tu comentario..." required></textarea>
                <small class="input-error" style="display: none;"></small>
              </div>
              
              <div class="form-footer">
                <button type="submit" class="submit-btn">
                  <i class="fas fa-paper-plane"></i> Enviar mensaje
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Botón de instalación -->
  <button id="btnInstall" class="install-btn" style="display: none;">
    <i class="fas fa-download"></i> Instalar App
  </button>

  <!-- Footer -->
  <footer class="app-footer">
    <p>EcoReto - Contribuyendo al ODS 13: Acción por el Clima</p>
    <div class="social-links">
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-facebook"></i></a>
    </div>
  </footer>

  <!-- Firebase SDK -->
<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD-8JqtblN_oQgFB5eI-9H112zvHHsf2kk",
    authDomain: "integradora-65813.firebaseapp.com",
    databaseURL: "https://integradora-65813-default-rtdb.firebaseio.com",
    projectId: "integradora-65813",
    storageBucket: "integradora-65813.appspot.com",
    messagingSenderId: "620376972992",
    appId: "1:620376972992:web:b5ad8fb7106c6caddf9725"
  };

  // Inicializa Firebase
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
  
  // Hacer disponible para otros scripts
  window.firebaseApp = app;
  window.firebaseDB = database;
  window.firebaseDBFunctions = { ref, push, set, onValue };
  
  console.log('Firebase inicializado correctamente');
</script>
  <!-- JS principal -->
  <script src="js/app.js"></script>
  
  <!-- Módulo de comentarios -->
  <script type="module" src="js/comments.js"></script>
  
  <!-- JS adicional -->
  <script src="js/tips.js"></script>
  <script src="js/pwa.js"></script>
</body>
</html>